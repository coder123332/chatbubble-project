<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="App.css">

    <!-- sTART OF BOX TO IMAGE CODE -->
  <script>
      function setColors(textColor, frameColor) {
          document.getElementById('text_color').value = textColor;
          document.getElementById('frame_color').value = frameColor;
      }

      async function generateImage(event) {
          event.preventDefault();
          const formData = new FormData(event.target);
          const response = await fetch('/generate', {
              method: 'POST',
              body: formData,
          });
          const blob = await response.blob();
          const url = URL.createObjectURL(blob);
          const img = document.createElement('img');
          img.src = url;

          const container = document.getElementById('image-container');
          const newRow = document.createElement('div'); // Create a new row for each image
          newRow.appendChild(img);
          container.insertBefore(newRow, container.firstChild); // Prepend new row
      }
  </script>
   <!-- END OF BOX TO IMAGE CODE -->

  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>

    <!-- sTART OF BOX TO IMAGE CODE -->
<h1>Enter text to generate image:</h1>
<form onsubmit="generateImage(event)">
    <input type="text" name="text" required />
    <div>
        <label for="text_color">Text Color:</label>
        <input type="color" id="text_color" name="text_color" value="#000000" />
    </div>
    <div>
        <label for="frame_color">Frame Color:</label>
        <input type="color" id="frame_color" name="frame_color" value="#000000" />
    </div>
    <div>
        <label>
            <input type="checkbox" name="is_italic" /> Use Italic Font
        </label>
    </div>
    <div>
        <button type="button" onclick="setColors('#000000', '#000000')">Set Black</button>
        <button type="button" onclick="setColors('#FF0000', '#FF0000')">Set Red</button>
    </div>
    <input type="submit" />
</form>
<div id="image-container"></div> <!-- Container for images -->
<!-- END OF BOX TO IMAGE CODE -->
  </body>
</html>
